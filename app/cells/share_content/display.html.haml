.modal.share-content-widget
  %h1= t("share_content.post_on_#{@where}")
  - if [ "facebook", "twitter" ].include? @where
    .message
      = t("external_accounts.connected_to.success", :site => @where.capitalize)
  - form_tag "/share_#{@class_name}", :method => :post do
    - body = "#{@body[@where]}#{' ' << @link if @link}"
    = text_area_tag "body", body, :'data-maxlength' => @maxlength
    - charsleft = @maxlength - body.mb_chars.size
    .charcount{:class => ( charsleft < 0 ? 'negative-counter' : '' )}
      %span(class="charsleft") #{charsleft.abs}
      %span= (charsleft >= 0 ? t("characters_left", :count => charsleft) : t("characters_exceded", :count => -charsleft))
    = hidden_field_tag :content, @content.id
    = hidden_field_tag "where", @where
    .controls
      = link_to t("scaffold.cancel"), "#", :class => "close"
      = submit_tag t("global.share"), :disabled => (charsleft < 0)
    .clear
